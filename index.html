<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Programa de Desintoxicación Semanal</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <header>
      <h1>Programa de Desintoxicación Semanal</h1>
    </header>
    <main>
      <section class="dia" id="dia1">
        <h2>Día 1</h2>
        <ul>
          <li data-actividad="meditar">
            Meditar
            <button
              class="seguimiento"
              onclick="marcarActividad('dia1', 'meditar')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="comer">
            Comer adecuadamente
            <button
              class="seguimiento"
              onclick="marcarActividad('dia1', 'comer')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="medicacion">
            Tomar medicación
            <button
              class="seguimiento"
              onclick="marcarActividad('dia1', 'medicacion')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="clases">
            Hacer todas las clases
            <button
              class="seguimiento"
              onclick="marcarActividad('dia1', 'clases')"
            >
              ✔
            </button>
          </li>
        </ul>
      </section>
      <section class="dia" id="dia2">
        <h2>Día 2</h2>
        <ul>
          <li data-actividad="meditar">
            Meditar
            <button
              class="seguimiento"
              onclick="marcarActividad('dia2', 'meditar')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="comer">
            Comer adecuadamente
            <button
              class="seguimiento"
              onclick="marcarActividad('dia2', 'comer')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="medicacion">
            Tomar medicación
            <button
              class="seguimiento"
              onclick="marcarActividad('dia2', 'medicacion')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="clases">
            Hacer todas las clases
            <button
              class="seguimiento"
              onclick="marcarActividad('dia2', 'clases')"
            >
              ✔
            </button>
          </li>
        </ul>
      </section>

      <section class="dia" id="dia3">
        <h2>Día 3</h2>
        <ul>
          <li data-actividad="meditar">
            Meditar
            <button
              class="seguimiento"
              onclick="marcarActividad('dia3', 'meditar')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="comer">
            Comer adecuadamente
            <button
              class="seguimiento"
              onclick="marcarActividad('dia3', 'comer')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="medicacion">
            Tomar medicación
            <button
              class="seguimiento"
              onclick="marcarActividad('dia3', 'medicacion')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="clases">
            Hacer todas las clases
            <button
              class="seguimiento"
              onclick="marcarActividad('dia3', 'clases')"
            >
              ✔
            </button>
          </li>
        </ul>
      </section>
      <section class="dia" id="dia4">
        <h2>Día 4</h2>
        <ul>
          <li data-actividad="meditar">
            Meditar
            <button
              class="seguimiento"
              onclick="marcarActividad('dia4', 'meditar')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="comer">
            Comer adecuadamente
            <button
              class="seguimiento"
              onclick="marcarActividad('dia4', 'comer')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="medicacion">
            Tomar medicación
            <button
              class="seguimiento"
              onclick="marcarActividad('dia4', 'medicacion')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="clases">
            Hacer todas las clases
            <button
              class="seguimiento"
              onclick="marcarActividad('dia4', 'clases')"
            >
              ✔
            </button>
          </li>
        </ul>
      </section>
      <section class="dia" id="dia5">
        <h2>Día 5</h2>
        <ul>
          <li data-actividad="meditar">
            Meditar
            <button
              class="seguimiento"
              onclick="marcarActividad('dia5', 'meditar')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="comer">
            Comer adecuadamente
            <button
              class="seguimiento"
              onclick="marcarActividad('dia5', 'comer')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="medicacion">
            Tomar medicación
            <button
              class="seguimiento"
              onclick="marcarActividad('dia5', 'medicacion')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="clases">
            Hacer todas las clases
            <button
              class="seguimiento"
              onclick="marcarActividad('dia5', 'clases')"
            >
              ✔
            </button>
          </li>
        </ul>
      </section>
      <section class="dia" id="dia6">
        <h2>Día 6</h2>
        <ul>
          <li data-actividad="meditar">
            Meditar
            <button
              class="seguimiento"
              onclick="marcarActividad('dia6', 'meditar')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="comer">
            Comer adecuadamente
            <button
              class="seguimiento"
              onclick="marcarActividad('dia6', 'comer')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="medicacion">
            Tomar medicación
            <button
              class="seguimiento"
              onclick="marcarActividad('dia6', 'medicacion')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="clases">
            Hacer todas las clases
            <button
              class="seguimiento"
              onclick="marcarActividad('dia6', 'clases')"
            >
              ✔
            </button>
          </li>
        </ul>
      </section>
      <section class="dia" id="dia7">
        <h2>Día 7</h2>
        <ul>
          <li data-actividad="meditar">
            Meditar
            <button
              class="seguimiento"
              onclick="marcarActividad('dia7', 'meditar')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="comer">
            Comer adecuadamente
            <button
              class="seguimiento"
              onclick="marcarActividad('dia7', 'comer')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="medicacion">
            Tomar medicación
            <button
              class="seguimiento"
              onclick="marcarActividad('dia7', 'medicacion')"
            >
              ✔
            </button>
          </li>
          <li data-actividad="clases">
            Hacer todas las clases
            <button
              class="seguimiento"
              onclick="marcarActividad('dia7', 'clases')"
            >
              ✔
            </button>
          </li>
        </ul>
      </section>
    </main>
    <footer>
      <p>&copy; 2023 CHONA</p>
    </footer>

    <script>
      // Función para marcar una actividad como realizada y guardar el progreso en el almacenamiento local
      function marcarActividad(dia, actividad) {
        const diaElement = document.getElementById(dia);
        const actividadElement = diaElement.querySelector(
          `[data-actividad="${actividad}"]`
        );
        const actividadCompleta =
          actividadElement.classList.contains("completa");

        if (!actividadCompleta) {
          actividadElement.classList.add("completa");
          guardarProgreso(dia, actividad);
        }
      }

      // Función para guardar el progreso en el almacenamiento local
      function guardarProgreso(dia, actividad) {
        const progreso = JSON.parse(localStorage.getItem("progreso")) || {};
        if (!progreso[dia]) {
          progreso[dia] = [];
        }
        progreso[dia].push(actividad);
        localStorage.setItem("progreso", JSON.stringify(progreso));
      }

      // Recuperar el progreso almacenado y marcar las actividades completadas
      function recuperarProgreso() {
        const progreso = JSON.parse(localStorage.getItem("progreso")) || {};
        for (const dia in progreso) {
          const diaElement = document.getElementById(dia);
          progreso[dia].forEach((actividad) => {
            const actividadElement = diaElement.querySelector(
              `[data-actividad="${actividad}"]`
            );
            actividadElement
              .querySelector(".seguimiento")
              .classList.add("completa");
          });
        }
      }

      // Llamar a la función para recuperar el progreso al cargar la página
      recuperarProgreso();
    </script>
  </body>
</html>
